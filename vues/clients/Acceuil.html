<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Publication LookLive</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  

  <style>
    .carousel-control-sm {
    height: 40px;
    width: 40px;
    top: 30%;
  }

  .carousel-control-sm .carousel-control-prev-icon,
  .carousel-control-sm .carousel-control-next-icon {
    width: 20px;
    height: 20px;
  }

  .bouton-ajout:hover i {
  transform: scale(1.2);
  color: #0056b3;
  transition: transform 0.2s ease, color 0.2s ease;
}
.icone-nav {
  transition: transform 0.2s ease, color 0.2s ease;
  cursor: pointer;
}

.icone-nav:hover {
  transform: scale(1.2);
  color: #007bff;
}

.icone:hover {
  transform: scale(1.2);
  color: #a8a8a9;
}

.publication-form .form-control {
    background-color: #f5f6f7;
    border: none;
    padding-left: 15px;
    font-size: 0.95rem;
  }

  .publication-form .form-control:focus {
    box-shadow: none;
    background-color: #fff;
    border: 1px solid #007bff;
  }

  .icon-option {
    border-radius: 30px;
    font-weight: 500;
    transition: background-color 0.2s ease;
  }

  .icon-option:hover {
    background-color: #f0f2f5;
  }

  .icon-option i {
    font-size: 1.2rem;
  }

  @media (max-width: 576px) {
    .icon-option {
      font-size: 0.85rem;
      padding: 0.5rem;
    }
  }

   .friends-list .media img {
    object-fit: cover;
    border: 2px solid #dee2e6;
  }

  .friends-list .media-body h6 {
    font-size: 0.95rem;
    font-weight: 600;
  }

  .friends-list small {
    font-size: 0.75rem;
  }

  .friends-list .text-success {
    color: #28a745 !important;
  }

  .friends-list .text-muted {
    color: #6c757d !important;
  }

  .friends-list .card-title i {
    font-size: 1.1rem;
  }

  </style>
</head>
<body class="bg-light">

       <!-- entête du site avec les onglet et les icons qu'il faut  -->
   <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">

  <div class="container-fluid">
    
    <a class="navbar-brand d-flex align-items-center text-white "href="#">
       <img src="/assets/image/logolooklive-L.png" alt="OOKlive" class="rounded-circle" width="40" height="40">
       <span class="h5 mb-0 text-primary" style="margin-left: 4px;">ookLive</span>
    </a>
   
    <form class="form-inline mx-auto d-none d-md-block">
      <span class="input-group-text bg-white border-right-0">
        <i class="bi bi-search text-muted"></i>
        <input class="form-control rounded" type="search" placeholder="Rechercher sur LookLive">
      </span>
    </form>

    <ul class="navbar-nav mx-auto d-none d-md-flex">
      <li class="nav-item mx-2">
        <a class="nav-link text-secondary icone-nav" href="#"><i class="fas fa-home "></i></a>
      </li>
      <li class="nav-item mx-2">
        <a class="nav-link text-secondary icone-nav" href="#"><i class="fas fa-tv fa-facebook-lg"></i></a>
      </li> 
      <li class="nav-item mx-2">
        <a class="nav-link text-secondary icone-nav" href="#"><i class="fas fa-store mr-2 fa-lg" ></i></a>
      </li>
      <li class="nav-item mx-2">
        <a class="nav-link text-secondary icone-nav" href="#"><i class="fas fa-users mr-2 fa-lg"></i></a>
      </li>
    </ul>

    <div class="d-flex align-items-center">
      <a href="#" class="btn btn-light btn-sm mx-1 rounded-circle icone-nav"><i class="fas fa-plus"></i></a>
      <a href="#" class="btn btn-light btn-sm mx-1 rounded-circle icone-nav"><i class="fab fa-facebook-messenger"></i></a>
      <a href="#" class="btn btn-light btn-sm mx-1 rounded-circle icone-nav"><i class="fas fa-bell"></i></a>
      <a href="#" class="btn btn-light btn-sm mx-1 rounded-circle icone-nav"><i class="fas fa-user-circle"></i></a>
    </div>
  </div>
</nav>
   
<!-- sidebar -->
  <div class="container mt-4 ">
    <div class="row">
    <aside class="col-md-3 mb-3">
  <ul class="list-group shadow-sm sidebar-menu ">
    <li class="list-group-item d-flex align-items-center icone-nav">
      <i class="fas fa-user-circle mr-3 text-secondary"></i> Profil
    </li>
    <li class="list-group-item d-flex align-items-center icone-nav">
      <i class="fas fa-user-friends mr-3 text-secondary"></i> Amie(s)
    </li>
    <li class="list-group-item d-flex align-items-center icone-nav">
      <i class="fas fa-history mr-3 text-secondary"></i> Souvenirs
    </li>
    <li class="list-group-item d-flex align-items-center icone-nav">
      <i class="fas fa-bookmark mr-3 text-secondary"></i> Enregistrements
    </li>
    <li class="list-group-item d-flex align-items-center icone-nav">
      <i class="fas fa-users mr-3 text-secondary"></i> Groupes
    </li>
    <li class="list-group-item d-flex align-items-center icone-nav">
      <i class="fas fa-store mr-3 text-secondary"></i> Marketplace
    </li>
    <li class="list-group-item d-flex align-items-center icone-nav">
      <i class="fas fa-newspaper mr-3 text-secondary"></i> Fils
    </li>
    <li class="list-group-item d-flex align-items-center icone-nav">
      <i class="fas fa-calendar-alt mr-3 text-secondary"></i> Événements
    </li>
    <li class="list-group-item d-flex align-items-center icone-nav">
      <i class="fas fa-ellipsis-h mr-3 text-secondary"></i> Voir plus
    </li>
  </ul>
</aside>

      <!-- main de l'utilisateur qui publie /zone principale-->


      <main class="col-md-6">

         <div class=" col-md-4 b icone-nav">
                   <!-- carrousel  -->
                     <div class="carousel slide shadow-sm rounded mb-4" id="carousel" data-ride="carousel">
          <div class="carousel-inner">
             <div class="carousel-item active">
                <div class="position-relative d-inline-block">
                    <img src="/assets/image/mangas1.png" class="img-fluid rounded" alt="Image publication">

                    <button onclick="document.getElementById('carouselInput').click();"
                            class="btn p-0 border-0 shadow-none bouton-ajout position-absolute"
                            style="top: 10px; right: 10px; background: transparent; width: 40px; height: 40px;">
                      <i class="bi bi-plus-circle" style="font-size: 1.8rem; color: #edf0f1;"></i>
                    </button>

                      <input type="file" accept="image/*" id="carouselInput" class="d-none" onchange="addCarouselImage(event)">
                 </div>

             </div>
            <div class="carousel-item ">
              <img src="/assets/image/mangas.png" class="d-block w-100 rounded shadow-sm" alt="Image 1">
            </div>
            <div class="carousel-item">
              <img src="/assets/image/logolooklive.png" class="d-block w-100 rounded shadow-sm" alt="Image 2">
            </div>
          </div>
          <a class="carousel-control-prev" href="#carousel" data-slide="prev">
            <span class="carousel-control-prev-icon bg-dark rounded-circle p-2"></span>
          </a>
          <a class="carousel-control-next" href="#carousel" data-slide="next">
            <span class="carousel-control-next-icon bg-dark rounded-circle p-2"></span>
          </a>
        </div>
        </div>

           <!--  Formulaire de publication -->
        <div class="card shadow-sm mb-4 publication-form">
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <img src="/assets/image/user1.jpg" class="rounded-circle mr-2" width="40" height="40" alt="user">
              <input type="text" class="form-control rounded-pill" placeholder="Quoi de neuf,.......?">
            </div>

            <hr>

            <div class="d-flex justify-content-between flex-wrap text-center">
              <label class="btn btn-light flex-fill m-1 d-flex align-items-center justify-content-center icon-option">
                <i class="bi bi-image-fill text-primary mr-2"></i> Photo
                <input type="file" accept="image/*" hidden>
              </label>

              <label class="btn btn-light flex-fill m-1 d-flex align-items-center justify-content-center icon-option">
                <i class="bi bi-camera-reels-fill text-primary mr-2"></i> Vidéo
                <input type="file" accept="video/*" hidden>
              </label>

            <div class="dropdown flex-fill m-1">
              <button class="btn btn-light btn-block d-flex align-items-center justify-content-center icon-option dropdown-toggle" type="button" id="dropdownHumeur" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="bi bi-emoji-smile-fill text-primary mr-2"></i> Humeur
              </button>
            </div>

              <button type="button" class="btn btn-light flex-fill m-1 d-flex align-items-center justify-content-center icon-option">
                <i class="bi bi-geo-alt-fill text-primary mr-2"></i> Lieu
              </button>
            </div>
          </div>
        </div>



        <div class="card shadow-sm" >
          <div class="card-header bg-white">
            <h5 class="mb-0"><i class="fas fa-user mr-2"></i>NELL dav</h5>
          </div>
          <div class="card-body p-0">
            <h6 class="card-subtitle mb-2 text-muted"></h6>
            <p class="card-text">
              <!-- contenu de la publication -->
                publication .............
              <em>✨ Plongez dans l’univers fascinant du manga ✨

Entre récits épiques, dessins percutants et émotions intenses, le manga est bien plus qu’un simple divertissement. C’est une forme d’art à part entière, qui mélange traditions japonaises et imaginaires sans frontières. Chaque case raconte une histoire, chaque coup de crayon transmet une énergie unique. 💥📖

Que ce soit pour vibrer avec Luffy, frissonner aux côtés de Tanjiro ou explorer les mystères de Tokyo avec Kaneki, les mangas ont ce pouvoir magique de créer des mondes où chacun peut se reconnaître. 🔥🌸</em>
            </p>
             <div class="embed-responsive embed-responsive-1by1 mb-2" style="max-width: 100px; margin: auto;">
                <img src="/assets/image/mangas.png" class="embed-responsive-item img-fluid rounded" alt="Publication">
              </div>
          </div>
        <!-- systeme de gestion de like et commentaire  -->
          <div class="btn-group" role="group">
              <!-- bouton  like/deslike et commentaires -->
                 <div class="d-flex justify-content-start gap-2 mb-2">
                       <button id="btnlike" type="button" class="btn btn-outline-primary">
                        <i class="bi bi-hand-thumbs-up"></i>
                       </button>
                      <button id="btndislike" type="button" class="btn btn-outline-primary">
                          <i class="bi bi-hand-thumbs-down"></i>
                      </button>
                      <button id="togglebtn" class="btn btn-secondary">
                      <i class="bi bi-chat-dots"></i>
                      </button>
                 </div> 
                    <!-- partie commentaire cachée -->
                <div id="commentSection" class="collapse" data-post-id="post1">
                    <!-- liste des commentaire cachée -->
                     <div class="card-body">
                         <ul  class="list-group mb-3  Listcomment "></ul>
                     </div>
                    <!-- champ du commentaire  -->
                    <div class="input-group">
                        <input id="commentinput" type="text"  class="form-control" placeholder="Ajouter un commentaire...">
                        <!-- button d'envoie du commentaire -->
                         <div class="input-group-append">
                               <button class="commentsubmit btn btn-secondary" type="button"><i class="bi bi-send"></i></button>
                         </div>
                    </div>
                </div>
            </div>
        </div> 
      </main>
       
      <!-- Espace publicitaire pour article et autre  ou suggestions  d'article -->
      
      <aside class="col-md-3 d-none d-md-block" >
         <!--  Liste des ami(e)s -->
        <div class="card shadow-sm mb-3 friends-list">
          <div class="card-body">
            <h6 class="card-title text-center text-secondary mb-3">
              <i class="bi bi-people-fill mr-1"></i> Mes ami(e)s
            </h6>
            <ul class="list-unstyled mb-0">
              <li class="media align-items-center mb-3">
                <img src="/assets/image/user1.jpg" class="rounded-circle mr-3 border" width="45" height="45" alt="Ami 1">
                <div class="media-body">
                  <h6 class="mb-0">Alice</h6>
                  <small class="text-success">● En ligne</small>
                </div>
              </li>
              <li class="media align-items-center mb-3">
                <img src="/assets/image/user2.jpg" class="rounded-circle mr-3 border" width="45" height="45" alt="Ami 2">
                <div class="media-body">
                  <h6 class="mb-0">Bruno</h6>
                  <small class="text-muted">● Hors ligne</small>
                </div>
              </li>
              <!-- Ajoute d'autres amis ici -->
            </ul>
          </div>
        </div>

        <div class="card shadow-sm mb-3">
          <div class="card-body text-center">
            <p class="text-muted"><i class="fas fa-ad"></i> Publicité</p>
            <img src="/assets/image/mangas1.png" class="img-fluid mb-2" alt="Ad image">
            <p class="small">session article </p>
          </div>
        </div>
      </aside>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>

 <script>
    // récupération des id

  const btnlike = document.getElementById('btnlike');
  const btndislike = document.getElementById('btndislike');

  // récupération de la réaction enregistrée
  const saved = localStorage.getItem('reaction');
  if (saved === 'like') activerLike();
  if (saved === 'dislike') activerDislike();

  btnlike.onclick = () => {
    localStorage.setItem('reaction', 'like');
    activerLike();
  };

  btndislike.onclick = () => {
    localStorage.setItem('reaction', 'dislike');
    activerDislike();
  };

    //   foncton  d'activation de like 

  function activerLike() {
    btnlike.classList.replace('btn-outline-primary', 'btn-primary');
    btndislike.classList.replace('btn-primary', 'btn-outline-primary');
    btnlike.innerHTML = '<i class="bi bi-hand-thumbs-up-fill"></i> J’aime';
    btndislike.innerHTML = '<i class="bi bi-hand-thumbs-down"></i> Je n’aime pas';
  }

     //   fonction  d'activation de dislike 

  function activerDislike() {
    btndislike.classList.replace('btn-outline-primary', 'btn-primary');
    btnlike.classList.replace('btn-primary', 'btn-outline-primary');
    btndislike.innerHTML = '<i class="bi bi-hand-thumbs-down-fill"></i> Je n’aime pas';
    btnlike.innerHTML = '<i class="bi bi-hand-thumbs-up"></i> J’aime';
  }


   //récupération des champs avec leurs id  
  const togglecontentbtn = document.getElementById("togglecommentbtn");
  const commentList = document.getElementById("Listcomment");
  const comment = document.getElementById("comment");
  const commentsubmit = document.getElementById("commentsubmit");


  //  pour faire coulisser le champs du commentaire en bas de la publication 
  
  const commentSection = document.getElementById('commentSection');
  const togglecommentBtn = document.getElementById('togglebtn');
  const collapseInstance = new bootstrap.Collapse(commentSection, { toggle: false });

  togglecommentBtn.addEventListener('click', () => {
    collapseInstance.toggle();
  });

  //sauvegarde dans le localstorage des commentaire 

  document.addEventListener("DOMContentLoaded", () => {
  const posts = document.querySelectorAll("[data-post-id]");

  posts.forEach(post => {
    const postId = post.getAttribute("data-post-id");
    const commentinput = post.querySelector(".commentinput");
    const commentsubmit = post.querySelector(".commentsubmit");
    const list = post.querySelector(".Listcomment");

    let comments = JSON.parse(localStorage.getItem(postId)) || [];

    const render = () => {
      list.innerHTML = "";
      comments.forEach((cmt, index) => {
        const li = document.createElement("li");
        li.className = "list-group-item d-flex justify-content-between align-items-center";
        li.innerHTML = `
          <span>${cmt}</span>
          <button class="btn btn-sm btn-danger"><i class="bi bi-trash"></i></button>
        `;
        li.querySelector("button").addEventListener("click", () => {
          comments.splice(index, 1);
          localStorage.setItem(postId, JSON.stringify(comments));
          render();
        });
        list.appendChild(li);
      });
    };
  
   
    commentsubmit.addEventListener("click", () => {
       const value = commentinput.value.trim();
      if (value !== "") {
        comments.push(value);
        localStorage.setItem(postId, JSON.stringify(comments));
        commentinput.value = "";
        render();
      }
    });

    render();
  });
});


 </script>
</body>
</html>

